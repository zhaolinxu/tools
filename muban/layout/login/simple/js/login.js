webpackJsonp([26,35],{1028:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(439),i=o(r),a=n(1),u=n(7),s=o(u),c=n(6),d=o(c),l=n(12),f=o(l);(0,a.App)({entryModules:{auth:s.default,device:d.default,locate:f.default},entryComponent:i.default})},195:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getMd5=t.randomString=void 0;var r=n(210),i=o(r);t.randomString=function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,o="",r=0;r<e;r++)o+=t.charAt(Math.floor(Math.random()*n));return o},t.getMd5=function(e){return(0,i.default)(e)}},210:function(e,t,n){var o;!function(r){"use strict";function i(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function u(e,t,n,o,r,u){return i(a(i(i(t,e),i(o,u)),r),n)}function s(e,t,n,o,r,i,a){return u(t&n|~t&o,e,t,r,i,a)}function c(e,t,n,o,r,i,a){return u(t&o|n&~o,e,t,r,i,a)}function d(e,t,n,o,r,i,a){return u(t^n^o,e,t,r,i,a)}function l(e,t,n,o,r,i,a){return u(n^(t|~o),e,t,r,i,a)}function f(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n,o,r,a,u,f=1732584193,p=-271733879,v=-1732584194,_=271733878;for(n=0;n<e.length;n+=16)o=f,r=p,a=v,u=_,f=s(f,p,v,_,e[n],7,-680876936),_=s(_,f,p,v,e[n+1],12,-389564586),v=s(v,_,f,p,e[n+2],17,606105819),p=s(p,v,_,f,e[n+3],22,-1044525330),f=s(f,p,v,_,e[n+4],7,-176418897),_=s(_,f,p,v,e[n+5],12,1200080426),v=s(v,_,f,p,e[n+6],17,-1473231341),p=s(p,v,_,f,e[n+7],22,-45705983),f=s(f,p,v,_,e[n+8],7,1770035416),_=s(_,f,p,v,e[n+9],12,-1958414417),v=s(v,_,f,p,e[n+10],17,-42063),p=s(p,v,_,f,e[n+11],22,-1990404162),f=s(f,p,v,_,e[n+12],7,1804603682),_=s(_,f,p,v,e[n+13],12,-40341101),v=s(v,_,f,p,e[n+14],17,-1502002290),p=s(p,v,_,f,e[n+15],22,1236535329),f=c(f,p,v,_,e[n+1],5,-165796510),_=c(_,f,p,v,e[n+6],9,-1069501632),v=c(v,_,f,p,e[n+11],14,643717713),p=c(p,v,_,f,e[n],20,-373897302),f=c(f,p,v,_,e[n+5],5,-701558691),_=c(_,f,p,v,e[n+10],9,38016083),v=c(v,_,f,p,e[n+15],14,-660478335),p=c(p,v,_,f,e[n+4],20,-405537848),f=c(f,p,v,_,e[n+9],5,568446438),_=c(_,f,p,v,e[n+14],9,-1019803690),v=c(v,_,f,p,e[n+3],14,-187363961),p=c(p,v,_,f,e[n+8],20,1163531501),f=c(f,p,v,_,e[n+13],5,-1444681467),_=c(_,f,p,v,e[n+2],9,-51403784),v=c(v,_,f,p,e[n+7],14,1735328473),p=c(p,v,_,f,e[n+12],20,-1926607734),f=d(f,p,v,_,e[n+5],4,-378558),_=d(_,f,p,v,e[n+8],11,-2022574463),v=d(v,_,f,p,e[n+11],16,1839030562),p=d(p,v,_,f,e[n+14],23,-35309556),f=d(f,p,v,_,e[n+1],4,-1530992060),_=d(_,f,p,v,e[n+4],11,1272893353),v=d(v,_,f,p,e[n+7],16,-155497632),p=d(p,v,_,f,e[n+10],23,-1094730640),f=d(f,p,v,_,e[n+13],4,681279174),_=d(_,f,p,v,e[n],11,-358537222),v=d(v,_,f,p,e[n+3],16,-722521979),p=d(p,v,_,f,e[n+6],23,76029189),f=d(f,p,v,_,e[n+9],4,-640364487),_=d(_,f,p,v,e[n+12],11,-421815835),v=d(v,_,f,p,e[n+15],16,530742520),p=d(p,v,_,f,e[n+2],23,-995338651),f=l(f,p,v,_,e[n],6,-198630844),_=l(_,f,p,v,e[n+7],10,1126891415),v=l(v,_,f,p,e[n+14],15,-1416354905),p=l(p,v,_,f,e[n+5],21,-57434055),f=l(f,p,v,_,e[n+12],6,1700485571),_=l(_,f,p,v,e[n+3],10,-1894986606),v=l(v,_,f,p,e[n+10],15,-1051523),p=l(p,v,_,f,e[n+1],21,-2054922799),f=l(f,p,v,_,e[n+8],6,1873313359),_=l(_,f,p,v,e[n+15],10,-30611744),v=l(v,_,f,p,e[n+6],15,-1560198380),p=l(p,v,_,f,e[n+13],21,1309151649),f=l(f,p,v,_,e[n+4],6,-145523070),_=l(_,f,p,v,e[n+11],10,-1120210379),v=l(v,_,f,p,e[n+2],15,718787259),p=l(p,v,_,f,e[n+9],21,-343485551),f=i(f,o),p=i(p,r),v=i(v,a),_=i(_,u);return[f,p,v,_]}function p(e){var t,n="",o=32*e.length;for(t=0;t<o;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function v(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function _(e){return p(f(v(e),8*e.length))}function m(e,t){var n,o,r=v(e),i=[],a=[];for(i[15]=a[15]=void 0,r.length>16&&(r=f(r,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],a[n]=1549556828^r[n];return o=f(i.concat(v(t)),512+8*t.length),p(f(a.concat(o),640))}function h(e){var t,n,o="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r}function g(e){return unescape(encodeURIComponent(e))}function b(e){return _(g(e))}function y(e){return h(b(e))}function C(e,t){return m(g(e),g(t))}function w(e,t){return h(C(e,t))}function k(e,t,n){return t?n?C(t,e):w(t,e):n?b(e):y(e)}o=function(){return k}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}(this)},22:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.requestAna=void 0;var _http=__webpack_require__(15),_app=__webpack_require__(1),_config=__webpack_require__(10),_asVip=__webpack_require__(2),_promise=__webpack_require__(8),requestAna=exports.requestAna=function requestAna(eventId,lable,parameter){var app=(0,_app.getApp)(),gd=app.globalData,source=_config.env.sdk,fromSource=(0,_http.parseQuery)().fromSource,tryGet=function tryGet(obj,key){var ret=null;try{ret=eval("obj."+key)}catch(e){return null}return ret},data={eventId:eventId,lable:lable,parameter:parameter||{},access_token:tryGet(gd,"auth.accessToken"),city:tryGet(gd,"locate.city.name"),location:tryGet(gd,"locate.position"),imei:tryGet(gd,"device.deviceId"),source:source,fromSource:fromSource};return(0,_http.request)({url:"//dc-log.missfresh.cn",method:"POST",data:data,headers:{platform:(0,_asVip.sdk2platform)(_config.env.sdk)},timeout:1e4}).then(function(e){return _promise.Promise.resolve(e&&e.data)},function(e){return _promise.Promise.reject(e)})};exports.default=exports},41:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){e=a.default.noop,u.addClass("weui-animate-fade-out"),i.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){r.remove(),c=!1})}function t(){e()}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(c)return c;var o=a.default.os.android;n=a.default.extend({title:null,content:"",className:"",buttons:[{label:"确定",type:"primary",onClick:a.default.noop}],isAndroid:o},n);var r=(0,a.default)(a.default.render(s.default,n)),i=r.find(".weui-dialog"),u=r.find(".weui-mask");return(0,a.default)("body").append(r),u.addClass("weui-animate-fade-in"),i.addClass("weui-animate-fade-in"),r.on("click",".weui-dialog__btn",function(e){var o=(0,a.default)(this).index();n.buttons[o].onClick?n.buttons[o].onClick.call(this,e)!==!1&&t():t()}),c=r[0],c.hide=t,c}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),a=o(i),u=n(43),s=o(u),c=void 0;t.default=r,e.exports=t.default},43:function(e,t){e.exports='<div class="<%=className%>">\r\n    <div class="weui-mask"></div>\r\n    <div class="weui-dialog <% if(isAndroid){ %> weui-skin_android <% } %>">\r\n        <% if(title){ %>\r\n        <div class="weui-dialog__hd"><strong class="weui-dialog__title"><%=title%></strong></div>\r\n        <% } %>\r\n        <div class="weui-dialog__bd"><%=content%></div>\r\n        <div class="weui-dialog__ft">\r\n            <% for(var i = 0; i < buttons.length; i++){ %>\r\n            <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_<%=buttons[i][\'type\']%>"><%=buttons[i][\'label\']%></a>\r\n            <% } %>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},439:function(e,t,n){n(745);var o=n(0)(n(568),n(979),null,null);e.exports=o.exports},475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestVerifyLoginCode=t.requestGetLoginCode=void 0;var o=n(2),r=n(195);t.requestGetLoginCode=function(e){var t=(0,r.randomString)(),n="gDclCjcZ#89EIJio(7",i=(0,r.getMd5)(t+e.phone+n);i=i.toUpperCase();var a={phone_number:e.phone,send_type:e.sendType},u={nonce:t,signature:i};return(0,o.request)({url:"/v1/auth/login-register",method:"post",data:a,params:u})},t.requestVerifyLoginCode=function(e){return(0,o.request)({url:"/v1/auth/verify-captcha",method:"POST",data:{phone_number:e.phone,code:e.code}})}},54:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(5);var r=n(57),i=o(r);t.default=i.default},568:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(3);var r=n(902),i=o(r);t.default={components:{verifyPhone:i.default}}},57:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.noop,n=arguments[2];return"object"===("undefined"==typeof t?"undefined":i(t))&&(n=t,t=u.default.noop),n=u.default.extend({content:e,buttons:[{label:"确定",type:"primary",onClick:t}]},n),(0,c.default)(n)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(11),u=o(a),s=n(41),c=o(s);t.default=r,e.exports=t.default},599:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=o(r),a=n(15),u=n(4),s=n(475),c=n(32),d=n(20),l=o(d),f=n(54),p=o(f),v=n(18),_=n(22);n(3);var m=void 0;t.default={data:function(){return{form:{phone:"",code:""},codes:{btnValue:"获取验证码"},isShowVoice:!1}},props:{verifyBtn:String,verifyType:String},methods:(0,i.default)({},(0,v.mapMutations)({changeAccessToken:"changeAccessToken"}),{settime:function(){this.codes.countDown--,this.codes.btnValue=this.codes.countDown+"秒后重发",45!==this.codes.countDown||this.isShowVoice||(this.isShowVoice=!0),this.codes.countDown<=0&&(c.win.clearInterval(m),this.codes.isDisabled=!1,this.codes.btnValue="获取验证码")},clearInput:function(e){"codeInput"===e?this.form.code="":this.form.phone=""},getVerifyCode:function(e){var t=this;return/^[0-9]{11}$/.test(this.form.phone)?((0,_.requestAna)("login_page_verify","login_page",{action:"click_login_verify"}),void(0,s.requestGetLoginCode)(this.form).then(function(){e?(t.form.sendType="VOICE",(0,p.default)("我们将以语音电话的形式告知您验证码, 请留意接听来电呦~",{title:"获取语音验证码"})):(t.form.sendType="SMS",t.codes.btnValue="获取验证码",t.codes.countDown=60,t.codes.isDisabled=!0,t.settime(),m=c.win.setInterval(t.settime,1e3,60))},function(e){(0,l.default)(e.data.msg)})):((0,l.default)("请输入正确的手机号"),!1)},verifyCode:function(){var e=this;if((0,_.requestAna)("login_page_celllogin","login_page",{action:"click_login_celllogin"}),this.form.phone&&this.form.code){if(!/^[0-9]{11}$/.test(this.form.phone))return(0,l.default)("请输入正确的手机号"),!1;(0,s.requestVerifyLoginCode)(this.form).then(function(t){e.changeAccessToken(t.access_token);var n=c.win.decodeURIComponent((0,a.parseQuery)().goBack);void 0!==n&&"undefined"!==n&&(0,u.redirectUrl)(n)},function(e){(0,l.default)(e.data.msg)})}else(0,l.default)("电话号或验证码为空")}}),computed:{goVerifyBtnStatus:function(){return this.form.phone.length<11||this.form.code.length<6}}}},745:function(e,t){},762:function(e,t){},902:function(e,t,n){n(762);var o=n(0)(n(599),n(996),null,null);e.exports=o.exports},979:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("verify-phone",{attrs:{verifyBtn:"登录",verifyType:"login"}}),e._v(" "),n("h2",{staticClass:"login-tip"},[e._v("为方便您及时查询订单信息，需要验证您的手机号来登录")])],1)},staticRenderFns:[]}},996:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"verify-phone"},[n("div",{staticClass:"form-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone,expression:"form.phone"}],staticClass:"form-input",attrs:{type:"tel",maxlength:"11",placeholder:"请输入手机号",autofocus:""},domProps:{value:e.form.phone},on:{input:function(t){t.target.composing||(e.form.phone=t.target.value)}}}),e._v(" "),n("div",{staticClass:"form-btn-code"},[e.form.phone?n("i",{staticClass:"form-clear",on:{click:function(t){e.clearInput()}}}):e._e(),e._v(" "),n("button",{staticClass:"form-btn",class:{"form-btn-disabled":"获取验证码"!==e.codes.btnValue},attrs:{disabled:e.codes.isDisabled},on:{click:function(t){e.getVerifyCode()}}},[e._v(e._s(e.codes.btnValue))])])]),e._v(" "),n("div",{staticClass:"form-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.code,expression:"form.code"}],staticClass:"form-input",attrs:{type:"tel",maxlength:"6",placeholder:"输入验证码"},domProps:{value:e.form.code},on:{input:function(t){t.target.composing||(e.form.code=t.target.value)}}}),e._v(" "),e.form.code?n("i",{staticClass:"form-clear form-clear-code",on:{click:function(t){e.clearInput("codeInput")}}}):e._e()]),e._v(" "),e.isShowVoice?n("p",{staticClass:"form-voice"},[e._v("收不到验证码? 试试 "),n("span",{staticClass:"voice-btn",on:{click:function(t){e.getVerifyCode("voice")}}},[e._v("语音验证码")])]):e._e(),e._v(" "),n("div",{staticClass:"form-submit"},[n("button",{staticClass:"weui-btn form-submit-btn",class:{"form-submit-btn-disabled":e.goVerifyBtnStatus},attrs:{disabled:e.goVerifyBtnStatus},on:{click:function(t){e.verifyCode()}}},[e._v(e._s(e.verifyBtn))])])])},staticRenderFns:[]}}},[1028]);